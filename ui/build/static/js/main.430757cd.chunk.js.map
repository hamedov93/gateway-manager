{"version":3,"sources":["clients/httpClient.js","utils/common.js","clients/restClient.js","resources/gateways.js","resources/devices.js","App.js","reportWebVitals.js","index.js"],"names":["httpClient","url","options","user","localStorage","getItem","token","JSON","parse","api_token","headers","Headers","get","set","myFetchJson","requestHeaders","Accept","has","body","FormData","authenticated","fetch","then","response","text","status","statusText","json","message","e","errors","Object","keys","Promise","reject","HttpError","resolve","api_url","getList","resource","params","pagination","page","perPage","sort","field","order","filter","myParams","query","sortBy","toLowerCase","limit","key","constructor","Array","i","length","apiUrl","stringify","data","total","getOne","id","endpointExt","getMany","ids","getManyReference","target","update","method","updateMany","create","delete","deleteMany","encodeURIComponent","GatewayIcon","RouterIcon","GatewayFilter","props","Filter","TextInput","label","source","alwaysOn","GatewayList","List","title","filters","bulkActionButtons","Datagrid","TextField","DateField","ShowButton","EditButton","GatewayCreate","Create","SimpleForm","validate","required","GatewayEdit","Edit","GatewayShow","Show","TabbedShowLayout","Tab","ReferenceManyField","reference","DeviceIcon","DevicesIcon","statuses","name","DeviceFilter","SelectInput","choices","ReferenceInput","AutocompleteInput","optionValue","optionText","DeviceList","ReferenceField","DeviceCreate","NumberInput","DeviceEdit","history","require","createBrowserHistory","App","Admin","dataProvider","restClient","Resource","list","edit","show","icon","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.430757cd.chunk.js","sourcesContent":["import { fetchUtils, HttpError } from 'react-admin'\n\nexport const httpClient = (url, options = {}) => {\n    \n    const user = localStorage.getItem('user')\n    const token = user ? JSON.parse(user).api_token : null\n    if ( ! options) {\n        options = {}\n    }\n    if ( ! options.headers) {\n        options.headers = new Headers()\n    }\n\n    const contentType = options.headers.get('Content-Type')\n    options.headers.set('Accept', 'application/json')\n    options.headers.set('Authorization', 'Bearer ' + token)\n\n    return myFetchJson(url, options)\n}\n\nexport const Request = (url, options = {}) => {\n\n    if ( ! options.headers) {\n        options.headers = new Headers()\n    }\n\n    const user = localStorage.getItem('user')\n    const token = user ? JSON.parse(user).api_token : null\n\n    const contentType = options.headers.get('Content-Type')\n    options.headers.set('Accept', 'application/json')\n    options.headers.set('Authorization', 'Bearer ' + token)\n\n    // add your own headers here\n    // options.headers.set('Content-Type', contentType || 'application/json')\n    return fetch(url, options)\n}\n\nexport const myFetchJson = (url, options = {}) => {\n    \n    const requestHeaders = (options.headers ||\n        new Headers({\n            Accept: 'application/json',\n        }));\n    if (\n        !requestHeaders.has('Content-Type') &&\n        !(options && options.body && options.body instanceof FormData)\n    ) {\n        requestHeaders.set('Content-Type', 'application/json');\n    }\n    if (options.user && options.user.authenticated && options.user.token) {\n        requestHeaders.set('Authorization', options.user.token);\n    }\n\n    return fetch(url, { ...options, headers: requestHeaders })\n        .then(response =>\n            response.text().then(text => ({\n                status: response.status,\n                statusText: response.statusText,\n                headers: response.headers,\n                body: text,\n            }))\n        )\n        .then(({ status, statusText, headers, body }) => {\n            let json;\n            try {\n                json = JSON.parse(body);\n            } catch (e) {\n                // not json, no big deal\n            }\n            if (status < 200 || status >= 300) {\n                let message\n                if (json && json.errors) {\n                    message = json.errors[Object.keys(json.errors)[0]][0]\n                } else if (json && json.message) {\n                    message = json.message\n                }\n                return Promise.reject(\n                    new HttpError(\n                        message || statusText,\n                        status,\n                        json\n                    )\n                );\n            }\n            return Promise.resolve({ status, headers, body, json });\n        });\n};\n","export const api_url = 'http://localhost:3000/api'\n\nexport const apiUrl = uri => uri ? api_url + '/' + uri : api_url\n\nexport const myNumber = val => isNaN(val) ? 0 : Math.round(Number(val) * 100)/100\n\nexport const ucFirst = str => {\n    return str && str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport const isObject = obj => {\n  var type = typeof obj\n  return (type === 'function') || (type === 'object' && !!obj);\n}\n","import { stringify } from 'query-string'\nimport { isObject, api_url as apiUrl } from '../utils/common'\nimport { httpClient } from './httpClient'\n\nexport default {\n    getList: (resource, params) => {\n        let { page, perPage } = params.pagination\n        const { field, order } = params.sort\n        const filter = { ...params.filter }\n\n        const myParams = { ...params }\n\n        delete myParams.filter\n        delete myParams.sort\n        delete myParams.pagination\n\n        const query = {\n            sortBy: `${field || 'createdAt'}:${order.toLowerCase()}`,\n            page: page || 1,\n            limit: perPage || 10,\n            ...myParams,\n        }\n\n        for (var key in filter) {\n            if (filter[key] == '' || ! filter[key]) { continue }\n            if (filter[key].constructor === Array) {\n                for (var i = 0; i < filter[key].length; i++) {\n                    query['filter['+key+']['+i+']'] = filter[key][i]\n                }\n            } else {                        \n                query['filter['+key+']'] = filter[key]\n            }\n        }\n\n        const url = `${apiUrl}/${resource}?${stringify(query)}`\n\n        return httpClient(url).then(({ headers, json }) => {\n            return ({\n                data: json.data,\n                total: json.total,\n            })\n        })\n    },\n\n    getOne: (resource, params) => {\n        let url = `${apiUrl}/${resource}/${params.id}`\n        url = params.endpointExt ? url + '/' + params.endpointExt : url\n        if (params.params) {\n            url = url + '?' + stringify(params.params)\n        }\n\n        return httpClient(url).then(({ json }) => ({\n            data: json,\n        }))\n    },\n\n    getMany: (resource, params) => {\n        let query = {\n            sortBy: 'createdAt:desc',\n            limit: 25,\n        }\n\n        for (var i = 0; i < params.ids.length; i++) {\n            query['filter[id]['+i+']'] = params.ids[i]\n        }\n\n        const url = `${apiUrl}/${resource}?${stringify(query)}`\n\n        return httpClient(url).then(({ json }) => ({ data: json.data }))\n    },\n\n    getManyReference: (resource, params) => {\n        const { page, perPage } = params.pagination\n        const { field, order } = params.sort\n        const filter = { ...params.filter }\n\n        filter[params.target] = params.id\n\n        const query = {\n            sortBy: `${field || 'createdAt'}:${order.toLowerCase()}`,\n            page: page || 1,\n            limit: perPage || 10,\n        }\n\n        for (var key in filter) {\n            if (filter[key].constructor === Array) {\n                for (var i = 0; i < filter[key].length; i++) {\n                    query['filter['+key+']['+i+']'] = filter[key][i]\n                }\n            } else {                        \n                query['filter['+key+']'] = filter[key]\n            }\n        }\n\n        const url = `${apiUrl}/${resource}?${stringify(query)}`\n\n        return httpClient(url).then(({ headers, json }) => ({\n            data: json.data,\n            total: json.total,\n        }))\n    },\n\n    update: (resource, params) => {\n        const url = `${apiUrl}/${resource}/${params.id}`\n        const data = new FormData()\n        let method = 'PUT'\n\n        return httpClient(`${apiUrl}/${resource}/${params.id}`, {\n            method,\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json }))\n    },\n\n    updateMany: (resource, params) => {\n        const query = {\n            filter: JSON.stringify({ id: params.ids}),\n        };\n        return httpClient(`${apiUrl}/${resource}?${stringify(query)}`, {\n            method: 'PUT',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json }));\n    },\n\n    create: (resource, params) => {\n        const url = `${apiUrl}/${resource}`\n        const data = new FormData()\n        let method = 'POST'\n        \n        return httpClient(`${apiUrl}/${resource}`, {\n            method,\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json }))\n    },\n\n    delete: (resource, params) => {\n        return httpClient(`${apiUrl}/${resource}/${params.id}`, {\n            method: 'DELETE',\n        }).then(({ json }) => ({ data: json }))\n    },\n\n    deleteMany: (resource, params) => {\n        const url = `${apiUrl}/${resource}/${encodeURIComponent(JSON.stringify(params.ids))}`\n        return httpClient(url, {\n            method: 'DELETE',\n        }).then(({ json }) => ({ data: json }))\n    }\n\n}\n","import React from 'react'\n\nimport {\n    List, Show, Delete, Datagrid, EmailField, TextField, EditButton,\n    DateField, ChipField, ShowButton, required, SimpleForm, Edit,\n    TextInput, SelectInput, Filter, FunctionField, ReferenceField,\n    TabbedShowLayout, Tab, ReferenceManyField, ReferenceInput,\n    AutocompleteInput, NumberInput, Create, BooleanInput,\n    ImageField, ImageInput\n} from 'react-admin'\n\nimport Chip from '@material-ui/core/Chip'\nimport RouterIcon from '@material-ui/icons/Router'\n\nimport { ucFirst } from '../utils/common'\n\nexport const GatewayIcon = RouterIcon\n\nconst GatewayFilter = props => (\n    <Filter {...props}>\n        <TextInput label=\"Search by name\" source=\"q\" alwaysOn />\n    </Filter>\n)\n\nexport const GatewayList = props => (\n    <List title=\"Gateways\" {...props} filters={<GatewayFilter />} bulkActionButtons={false}>\n        <Datagrid>\n            <TextField source=\"_id\" label=\"ID\" />\n            <TextField source=\"name\" />\n            <TextField source=\"serialNumber\" />\n            <TextField source=\"ipAddress\" />\n            <DateField source=\"createdAt\" />\n            <DateField source=\"updatedAt\" />\n            <ShowButton />\n            <EditButton />\n        </Datagrid>\n    </List>\n)\n\nexport const GatewayCreate = props => (\n    <Create {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" validate={required()} />\n            <TextInput source=\"serialNumber\" validate={required()} />\n            <TextInput source=\"ipAddress\" validate={required()} />\n        </SimpleForm>\n    </Create>\n)\n\nexport const GatewayEdit = props => (\n    <Edit {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" validate={required()} />\n            <TextInput source=\"serialNumber\" validate={required()} />\n            <TextInput source=\"ipAddress\" validate={required()} />\n        </SimpleForm>\n    </Edit>\n)\n\nexport const GatewayShow = props => (\n    <Show {...props}>\n        <TabbedShowLayout>\n            <Tab label=\"Gateway details\">\n                <TextField source=\"_id\" label=\"ID\" />\n                <TextField source=\"name\" />\n                <TextField source=\"serialNumber\" />\n                <TextField source=\"ipAddress\" />\n                <DateField source=\"createdAt\" />\n                <DateField source=\"updatedAt\" />\n            </Tab>\n            <Tab label=\"Peripheral devices\">\n                <ReferenceManyField reference=\"devices\" target=\"gateway\" label=\"\">\n                    <Datagrid>\n                        <TextField source=\"_id\" label=\"ID\" />\n                        <TextField source=\"uid\" label=\"UID\" />\n                        <TextField source=\"vendor\" />\n                        <TextField source=\"status\" />\n                        <DateField source=\"createdAt\" />\n                        <DateField source=\"updatedAt\" />\n                        <EditButton />\n                    </Datagrid>\n                </ReferenceManyField>\n            </Tab>\n        </TabbedShowLayout>\n    </Show>\n)\n","import React from 'react'\n\nimport {\n    List, Show, Delete, Datagrid, EmailField, TextField, EditButton,\n    DateField, ChipField, ShowButton, required, SimpleForm, Edit,\n    TextInput, SelectInput, Filter, FunctionField, ReferenceField,\n    TabbedShowLayout, Tab, ReferenceManyField, ReferenceInput,\n    AutocompleteInput, NumberInput, Create, BooleanInput,\n    ImageField, ImageInput\n} from 'react-admin'\n\nimport Chip from '@material-ui/core/Chip'\nimport DevicesIcon from '@material-ui/icons/Devices'\n\nimport { ucFirst } from '../utils/common'\n\nexport const DeviceIcon = DevicesIcon\n\nconst statuses = [\n    { id: 'online', name: 'Online' },\n    { id: 'offline', name: 'Offline' },\n]\n\nconst DeviceFilter = props => (\n    <Filter {...props}>\n        <TextInput label=\"Search by vendor\" source=\"q\" alwaysOn />\n        <SelectInput source=\"status\" choices={statuses} />\n        <ReferenceInput source=\"gateway\" reference=\"gateways\">\n            <AutocompleteInput optionValue=\"id\" optionText=\"name\" />\n        </ReferenceInput>\n    </Filter>\n)\n\nexport const DeviceList = props => (\n    <List title=\"Devices\" {...props} filters={<DeviceFilter />} bulkActionButtons={false}>\n        <Datagrid>\n            <TextField source=\"_id\" label=\"ID\" />\n            <TextField source=\"uid\" label=\"UID\" />\n            <TextField source=\"vendor\" />\n            <TextField source=\"status\" />\n            <ReferenceField source=\"gateway\" reference=\"gateways\">\n                <TextField source=\"name\" />\n            </ReferenceField>\n            <DateField source=\"createdAt\" />\n            <DateField source=\"updatedAt\" />\n            <EditButton />\n        </Datagrid>\n    </List>\n)\n\nexport const DeviceCreate = props => (\n    <Create {...props}>\n        <SimpleForm>\n            <ReferenceInput source=\"gateway\" reference=\"gateways\" validate={required()}>\n                <AutocompleteInput optionValue=\"id\" optionText=\"name\" />\n            </ReferenceInput>\n            <NumberInput source=\"uid\" validate={required()} />\n            <TextInput source=\"vendor\" validate={required()} />\n            <SelectInput source=\"status\" choices={statuses} validate={required()} />\n        </SimpleForm>\n    </Create>\n)\n\nexport const DeviceEdit = props => (\n    <Edit {...props}>\n        <SimpleForm>\n            <ReferenceInput source=\"gateway\" reference=\"gateways\" validate={required()}>\n                <AutocompleteInput optionValue=\"id\" optionText=\"name\" />\n            </ReferenceInput>\n            <NumberInput source=\"uid\" validate={required()} />\n            <TextInput source=\"vendor\" validate={required()} />\n            <SelectInput source=\"status\" choices={statuses} validate={required()} />\n        </SimpleForm>\n    </Edit>\n)\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Admin, Resource } from 'react-admin'\nimport { httpClient } from './clients/httpClient'\nimport restClient from './clients/restClient'\n\nimport { GatewayList, GatewayCreate, GatewayEdit, GatewayShow, GatewayIcon } from './resources/gateways'\nimport { DeviceList, DeviceCreate, DeviceEdit, DeviceIcon } from './resources/devices'\n\nconst history = require('history').createBrowserHistory()\n\nconst App = () => (\n  <Admin title=\"Gateway Manager UI\" dataProvider={restClient} history={history}>\n    <Resource name=\"gateways\" options={{label:\"Gateways\"}} list={GatewayList} create={GatewayCreate} edit={GatewayEdit} show={GatewayShow} icon={GatewayIcon} />\n    <Resource name=\"devices\" options={{label:\"Devices\"}} list={DeviceList} create={DeviceCreate} edit={DeviceEdit} icon={DeviceIcon} />\n  </Admin>\n)\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}